# =============================================================================
# SnA Evaluation Framework - Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control

# -----------------------------------------------------------------------------
# Azure OpenAI Configuration (Internal Endpoint - REQUIRED)
# -----------------------------------------------------------------------------
# Internal API endpoint for data compliance
AZURE_OPENAI_ENDPOINT=https://api-ai.digitaldev.nl/openai/deployments/gpt-5-mini/chat/completions
AZURE_OPENAI_API_KEY=your-azure-openai-api-key-here
AZURE_OPENAI_API_VERSION=2024-04-01-preview
AZURE_OPENAI_DEPLOYMENT=gpt-5-mini
AZURE_OPENAI_MODEL=gpt-5-mini

# Scorer-specific endpoint (typically same as above)
SCORER_OPENAI_ENDPOINT=https://api-ai.digitaldev.nl/openai/deployments/gpt-5-mini/chat/completions
SCORER_OPENAI_API_KEY=your-azure-openai-api-key-here

# -----------------------------------------------------------------------------
# Service Configuration
# -----------------------------------------------------------------------------
# Service basics
SERVICE_NAME=sna-evaluation-framework
SERVICE_VERSION=0.1.0
ENVIRONMENT=development  # development, staging, production

# API Server
HOST=0.0.0.0
PORT=8000
WORKERS=4
LOG_LEVEL=info  # debug, info, warning, error, critical

# -----------------------------------------------------------------------------
# Authentication
# -----------------------------------------------------------------------------
# API Key authentication (comma-separated for multiple keys)
# Generate secure keys: python -c "import secrets; print(secrets.token_urlsafe(32))"
API_KEYS=your-api-key-here,another-api-key-here

# Repository-specific keys (optional - for finer control)
COMMERCE_AGENTS_API_KEY=your-commerce-agents-key-here

# -----------------------------------------------------------------------------
# Azure Blob Storage (Report Persistence)
# -----------------------------------------------------------------------------
AZURE_STORAGE_CONNECTION_STRING=your-azure-storage-connection-string-here
AZURE_STORAGE_ACCOUNT_NAME=snaevaluationreports
AZURE_STORAGE_CONTAINER_NAME=evaluation-reports
BLOB_STORAGE_ENABLED=true  # Set to false to disable blob storage

# -----------------------------------------------------------------------------
# Evaluation Configuration
# -----------------------------------------------------------------------------
# Default scorer weights (can be overridden per request)
DEFAULT_NUMERICAL_ACCURACY_WEIGHT=0.40
DEFAULT_DATA_METHODOLOGY_WEIGHT=0.25
DEFAULT_COMPLETENESS_WEIGHT=0.15
DEFAULT_ASSUMPTION_TRANSPARENCY_WEIGHT=0.10
DEFAULT_ERROR_HANDLING_WEIGHT=0.05
DEFAULT_AGENT_ROUTING_WEIGHT=0.05

# Pass threshold (0.0 - 1.0)
DEFAULT_PASS_THRESHOLD=0.85

# Timeout settings (seconds)
EVALUATION_TIMEOUT=300
SCORER_TIMEOUT=30

# -----------------------------------------------------------------------------
# PyRIT Configuration
# -----------------------------------------------------------------------------
# Memory backend for PyRIT
PYRIT_MEMORY_BACKEND=azure_blob  # azure_blob, local, or memory

# Database (if using local memory)
DATABASE_URL=sqlite:///./sna_evaluation.db

# -----------------------------------------------------------------------------
# Monitoring & Observability
# -----------------------------------------------------------------------------
# Application Insights (optional)
APPLICATIONINSIGHTS_CONNECTION_STRING=your-app-insights-connection-string

# Metrics
ENABLE_PROMETHEUS_METRICS=true
METRICS_PORT=9090

# Tracing
ENABLE_TRACING=false
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=10
RATE_LIMIT_BURST=20

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------
CORS_ENABLED=true
CORS_ORIGINS=http://localhost:3000,http://localhost:8501  # Comma-separated

# -----------------------------------------------------------------------------
# Development/Debug Settings
# -----------------------------------------------------------------------------
DEBUG=false
RELOAD=false  # Auto-reload on code changes (dev only)
SHOW_VALIDATION_ERRORS=true
